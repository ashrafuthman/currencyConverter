{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/ashraf/code/ashrafuthman/react-hooks-introduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/ashraf/code/ashrafuthman/react-hooks-introduction/src/components/Currency.js\",\n    _s = $RefreshSig$();\n\nimport { useCurrencyLayer } from '../hooks/currencyLayer';\nimport Summary from './Summary';\nimport React, { useState } from 'react';\n\nconst Currency = props => {\n  _s();\n\n  const _useState = useState(['2020-01-01', '2020-01-02']),\n        _useState2 = _slicedToArray(_useState, 2),\n        date = _useState2[0],\n        setdate = _useState2[1];\n\n  const _useCurrencyLayer = useCurrencyLayer({\n    selectedCurrency: props.selectedCurrency,\n    date: ['2020-01-01', '2020-01-02'],\n    currencies: ['EUR', 'CHF']\n  }, [props.selectedCurrency]),\n        _useCurrencyLayer2 = _slicedToArray(_useCurrencyLayer, 2),\n        isLoading = _useCurrencyLayer2[0],\n        fetchedData = _useCurrencyLayer2[1];\n\n  let loadedCurrency = null;\n\n  if (fetchedData) {\n    const res = fetchedData.slice(-1)[0].currencyValues;\n    loadedCurrency = {\n      id: props.selectedCurrency,\n      currencyValue: res[props.selectedCurrency]\n    };\n  } // useEffect(() => {\n  //   return () => {\n  //     console.log('component did unmount');\n  //   };\n  // }, []);\n\n\n  let content = /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading Currency...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 17\n  }, this);\n\n  if (!isLoading && loadedCurrency) {\n    content = /*#__PURE__*/_jsxDEV(Summary, {\n      currencyValues: loadedCurrency.currencyValue,\n      dates: date,\n      selectedCurrency: props.selectedCurrency\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  } else if (!isLoading && !loadedCurrency) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Failed to fetch Currency.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }, this);\n  }\n\n  return content;\n};\n\n_s(Currency, \"YvbC8+1XHlWQn7pwlKI8/tg7DiY=\", false, function () {\n  return [useCurrencyLayer];\n});\n\n_c = Currency;\nexport default _c2 = /*#__PURE__*/React.memo(Currency);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Currency\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/ashraf/code/ashrafuthman/react-hooks-introduction/src/components/Currency.js"],"names":["useCurrencyLayer","Summary","React","useState","Currency","props","date","setdate","selectedCurrency","currencies","isLoading","fetchedData","loadedCurrency","res","slice","currencyValues","id","currencyValue","content","memo"],"mappings":";;;;;;AAAA,SAASA,gBAAT,QAAiC,wBAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAAA;;AAAA,oBACAF,QAAQ,CAAC,CAAC,YAAD,EAAe,YAAf,CAAD,CADR;AAAA;AAAA,QACjBG,IADiB;AAAA,QACXC,OADW;;AAAA,4BAGSP,gBAAgB,CAC/C;AAACQ,IAAAA,gBAAgB,EAAEH,KAAK,CAACG,gBAAzB;AAA2CF,IAAAA,IAAI,EAAE,CAAC,YAAD,EAAe,YAAf,CAAjD;AAA+EG,IAAAA,UAAU,EAAE,CAAC,KAAD,EAAO,KAAP;AAA3F,GAD+C,EAE/C,CAACJ,KAAK,CAACG,gBAAP,CAF+C,CAHzB;AAAA;AAAA,QAGjBE,SAHiB;AAAA,QAGNC,WAHM;;AAQxB,MAAIC,cAAc,GAAG,IAArB;;AAEA,MAAID,WAAJ,EAAiB;AACf,UAAME,GAAG,GAAGF,WAAW,CAACG,KAAZ,CAAkB,CAAC,CAAnB,EAAsB,CAAtB,EAAyBC,cAArC;AACAH,IAAAA,cAAc,GAAG;AACfI,MAAAA,EAAE,EAAEX,KAAK,CAACG,gBADK;AAEfS,MAAAA,aAAa,EAAEJ,GAAG,CAACR,KAAK,CAACG,gBAAP;AAFH,KAAjB;AAID,GAhBuB,CAkBxB;AACA;AACA;AACA;AACA;;;AAEA,MAAIU,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAd;;AAEA,MAAI,CAACR,SAAD,IAAcE,cAAlB,EAAkC;AAChCM,IAAAA,OAAO,gBACL,QAAC,OAAD;AACE,MAAA,cAAc,EAAEN,cAAc,CAACK,aADjC;AAEE,MAAA,KAAK,EAAEX,IAFT;AAGE,MAAA,gBAAgB,EAAED,KAAK,CAACG;AAH1B;AAAA;AAAA;AAAA;AAAA,YADF;AAOD,GARD,MAQO,IAAI,CAACE,SAAD,IAAc,CAACE,cAAnB,EAAmC;AACxCM,IAAAA,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAV;AACD;;AACD,SAAOA,OAAP;AACD,CAtCD;;GAAMd,Q;UAG6BJ,gB;;;KAH7BI,Q;AAwCN,kCAAeF,KAAK,CAACiB,IAAN,CAAWf,QAAX,CAAf","sourcesContent":["import { useCurrencyLayer } from '../hooks/currencyLayer';\nimport Summary from './Summary';\nimport React, { useState } from 'react';\n\nconst Currency = props => {\n  const [date, setdate] = useState(['2020-01-01', '2020-01-02']);\n\n  const [isLoading, fetchedData] = useCurrencyLayer(\n    {selectedCurrency: props.selectedCurrency, date: ['2020-01-01', '2020-01-02'], currencies: ['EUR','CHF']},\n    [props.selectedCurrency]\n  );\n\n  let loadedCurrency = null;\n\n  if (fetchedData) {\n    const res = fetchedData.slice(-1)[0].currencyValues;\n    loadedCurrency = {\n      id: props.selectedCurrency,\n      currencyValue: res[props.selectedCurrency],\n    };\n  }\n\n  // useEffect(() => {\n  //   return () => {\n  //     console.log('component did unmount');\n  //   };\n  // }, []);\n\n  let content = <p>Loading Currency...</p>;\n\n  if (!isLoading && loadedCurrency) {\n    content = (\n      <Summary\n        currencyValues={loadedCurrency.currencyValue}\n        dates={date}\n        selectedCurrency={props.selectedCurrency}\n      />\n    );\n  } else if (!isLoading && !loadedCurrency) {\n    content = <p>Failed to fetch Currency.</p>;\n  }\n  return content;\n};\n\nexport default React.memo(Currency);\n"]},"metadata":{},"sourceType":"module"}