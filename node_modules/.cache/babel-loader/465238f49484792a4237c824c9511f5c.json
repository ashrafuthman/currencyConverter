{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/home/ashraf/code/ashrafuthman/react-hooks-introduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/ashraf/code/ashrafuthman/react-hooks-introduction/src/components/Currency.js\",\n    _s = $RefreshSig$();\n\nimport { useCurrencyLayer } from '../hooks/currencyLayer';\nimport Summary from './Summary';\nimport React, { useState } from 'react';\n\nconst Currency = props => {\n  _s();\n\n  const _useState = useState(new Date()),\n        _useState2 = _slicedToArray(_useState, 1),\n        date = _useState2[0];\n\n  const _useState3 = useState(\"\".concat(date.getFullYear(), \"-\").concat(date.getMonth() + 1, \"-\").concat(date.getDate())),\n        _useState4 = _slicedToArray(_useState3, 1),\n        formattedDate = _useState4[0];\n\n  debugger;\n\n  const _useCurrencyLayer = useCurrencyLayer({\n    selectedCurrency: props.selectedCurrency,\n    date: [formattedDate],\n    currencies: ['EUR', 'CHF']\n  }, [props.selectedCurrency]),\n        _useCurrencyLayer2 = _slicedToArray(_useCurrencyLayer, 2),\n        isLoading = _useCurrencyLayer2[0],\n        fetchedData = _useCurrencyLayer2[1];\n\n  let loadedCurrency = null;\n  let currencyValues = [];\n  let currencyDate = [];\n\n  if (fetchedData && fetchedData.length === 2) {\n    fetchedData.forEach(data => {\n      debugger;\n      currencyValues.push(data.currencyValues[props.selectedCurrency]);\n      currencyDate.push(data.date);\n      loadedCurrency = {\n        id: props.selectedCurrency,\n        currencyValue: currencyValues,\n        dates: currencyDate\n      };\n    });\n    debugger;\n  } // useEffect(() => {\n  //   return () => {\n  //     console.log('component did unmount');\n  //   };\n  // }, []);\n\n\n  let content = /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading Currency...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 17\n  }, this);\n\n  if (!isLoading && loadedCurrency) {\n    content = /*#__PURE__*/_jsxDEV(Summary, {\n      selectedCurrency: loadedCurrency.id,\n      currencyValues: loadedCurrency.currencyValue,\n      dates: loadedCurrency.dates\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  } else if (!isLoading && !loadedCurrency) {\n    content = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Failed to fetch Currency.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }, this);\n  }\n\n  return content;\n};\n\n_s(Currency, \"PMIutNdkKS+sR5OtKJ4hxgOwvkQ=\", false, function () {\n  return [useCurrencyLayer];\n});\n\n_c = Currency;\nexport default _c2 = /*#__PURE__*/React.memo(Currency);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Currency\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/ashraf/code/ashrafuthman/react-hooks-introduction/src/components/Currency.js"],"names":["useCurrencyLayer","Summary","React","useState","Currency","props","Date","date","getFullYear","getMonth","getDate","formattedDate","selectedCurrency","currencies","isLoading","fetchedData","loadedCurrency","currencyValues","currencyDate","length","forEach","data","push","id","currencyValue","dates","content","memo"],"mappings":";;;;;;AAAA,SAASA,gBAAT,QAAiC,wBAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AAAA;;AAAA,oBACTF,QAAQ,CAAC,IAAIG,IAAJ,EAAD,CADC;AAAA;AAAA,QACjBC,IADiB;;AAAA,qBAEAJ,QAAQ,WAAII,IAAI,CAACC,WAAL,EAAJ,cAA0BD,IAAI,CAACE,QAAL,KAAkB,CAA5C,cAAiDF,IAAI,CAACG,OAAL,EAAjD,EAFR;AAAA;AAAA,QAEjBC,aAFiB;;AAG1B;;AAH0B,4BAISX,gBAAgB,CAC/C;AAACY,IAAAA,gBAAgB,EAAEP,KAAK,CAACO,gBAAzB;AAA2CL,IAAAA,IAAI,EAAE,CAACI,aAAD,CAAjD;AAAkEE,IAAAA,UAAU,EAAE,CAAC,KAAD,EAAO,KAAP;AAA9E,GAD+C,EAE/C,CAACR,KAAK,CAACO,gBAAP,CAF+C,CAJzB;AAAA;AAAA,QAIjBE,SAJiB;AAAA,QAINC,WAJM;;AASxB,MAAIC,cAAc,GAAG,IAArB;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,YAAY,GAAG,EAAnB;;AACA,MAAIH,WAAW,IAAIA,WAAW,CAACI,MAAZ,KAAuB,CAA1C,EAA6C;AAC5CJ,IAAAA,WAAW,CAACK,OAAZ,CAAqBC,IAAD,IAAU;AAC5B;AACAJ,MAAAA,cAAc,CAACK,IAAf,CAAoBD,IAAI,CAACJ,cAAL,CAAoBZ,KAAK,CAACO,gBAA1B,CAApB;AACAM,MAAAA,YAAY,CAACI,IAAb,CAAkBD,IAAI,CAACd,IAAvB;AACCS,MAAAA,cAAc,GAAG;AACfO,QAAAA,EAAE,EAAElB,KAAK,CAACO,gBADK;AAEfY,QAAAA,aAAa,EAAEP,cAFA;AAGfQ,QAAAA,KAAK,EAAEP;AAHQ,OAAjB;AAKD,KATF;AAUC;AACD,GAxBuB,CA0BxB;AACA;AACA;AACA;AACA;;;AAEA,MAAIQ,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAd;;AAEA,MAAI,CAACZ,SAAD,IAAcE,cAAlB,EAAkC;AAChCU,IAAAA,OAAO,gBACL,QAAC,OAAD;AACE,MAAA,gBAAgB,EAAEV,cAAc,CAACO,EADnC;AAEE,MAAA,cAAc,EAAEP,cAAc,CAACQ,aAFjC;AAGE,MAAA,KAAK,EAAER,cAAc,CAACS;AAHxB;AAAA;AAAA;AAAA;AAAA,YADF;AAOD,GARD,MAQO,IAAI,CAACX,SAAD,IAAc,CAACE,cAAnB,EAAmC;AACxCU,IAAAA,OAAO,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAV;AACD;;AACD,SAAOA,OAAP;AACD,CA9CD;;GAAMtB,Q;UAI6BJ,gB;;;KAJ7BI,Q;AAgDN,kCAAeF,KAAK,CAACyB,IAAN,CAAWvB,QAAX,CAAf","sourcesContent":["import { useCurrencyLayer } from '../hooks/currencyLayer';\nimport Summary from './Summary';\nimport React, { useState } from 'react';\n\nconst Currency = props => {\n  const [date] = useState(new Date());\n  const [formattedDate] = useState(`${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`);\ndebugger;\n  const [isLoading, fetchedData] = useCurrencyLayer(\n    {selectedCurrency: props.selectedCurrency, date: [formattedDate], currencies: ['EUR','CHF']},\n    [props.selectedCurrency]\n  );\n\n  let loadedCurrency = null;\n  let currencyValues = [];\n  let currencyDate = [];\n  if (fetchedData && fetchedData.length === 2) {\n   fetchedData.forEach((data) => {\n     debugger;\n     currencyValues.push(data.currencyValues[props.selectedCurrency]);\n     currencyDate.push(data.date);\n      loadedCurrency = {\n        id: props.selectedCurrency,\n        currencyValue: currencyValues,\n        dates: currencyDate\n      };\n    })\n    debugger;\n  }\n\n  // useEffect(() => {\n  //   return () => {\n  //     console.log('component did unmount');\n  //   };\n  // }, []);\n\n  let content = <p>Loading Currency...</p>;\n\n  if (!isLoading && loadedCurrency) {\n    content = (\n      <Summary\n        selectedCurrency={loadedCurrency.id}\n        currencyValues={loadedCurrency.currencyValue}\n        dates={loadedCurrency.dates}\n      />\n    );\n  } else if (!isLoading && !loadedCurrency) {\n    content = <p>Failed to fetch Currency.</p>;\n  }\n  return content;\n};\n\nexport default React.memo(Currency);\n"]},"metadata":{},"sourceType":"module"}